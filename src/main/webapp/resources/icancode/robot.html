<!DOCTYPE html>
<!--
  #%L
  iCanCode - it's a dojo-like platform from developers to developers.
  %%
  Copyright (C) 2016 EPAM
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->

<html lang="en">
  <head>
    <title>I can code: Rules</title>
    <link href="css/reset.css" rel="stylesheet" />
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="fonts/font-awesome-4.6.3/css/font-awesome.min.css" rel="stylesheet"/>
    <link href="css/landing-style.css" rel="stylesheet" />
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <script src="js/jquery/jquery-3.1.0.js"></script>
    <script src="js/plugins-scroll.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function () {
          $('.dropdown-toggle').dropdown();
            var url = '/codenjoy-contest/resources/icancode/registration.html';
            $('.go-registration').click(function() {
               window.location.href = url;
            });

          $('#logo').dblclick(function() {
                var time = 256000;
                var body = $("html, body");

                body.animate({ scrollTop: $(document).height() }, time, 'linear');
                setTimeout(function() {
                    body.animate({scrollTop:0}, time, 'linear');
                },time);
                setInterval(function(){
                    body.animate({ scrollTop: $(document).height() }, time, 'linear');
                    setTimeout(function() {
                        body.animate({scrollTop:0}, time, 'linear');
                    },time);
                },time*2);
          });

          $("#nav").on("click","a", function (event) {
              event.preventDefault();
              var id = $(this).attr('href'),
              top = $(id).offset().top;
              $('body,html').animate({scrollTop: top}, 1000);
          });

          try {
              $.browserSelector();
              if($("html").hasClass("chrome")) {
                  $.smoothScroll();
              }
          } catch(err) {

          };

          $('#scrollup').mouseover( function(){
              $( this ).animate({opacity: 0.8},100);
          }).mouseout( function(){
              $( this ).animate({opacity: 0.5},100);
          }).click( function(){
              window.scroll(0 ,0);
              return false;
          });

          $(window).scroll(function(){
              if ( $(document).scrollTop() > 0 ) {
                  $('#scrollup').fadeIn('fast');
              } else {
                  $('#scrollup').fadeOut('fast');
              }
          });
        });
    </script>
  </head>
  <body>
    <div class="wrapper wrapper-rules">
      <div class="header-wrap">
        <div class="container">
		<header class="header row">
          <div class="col-md-6 col-xs-12">
            <a class="logo-epam inline" target="_blank" href="https://www.epam.com/" title="Epam"><img src="img/epam_logo.jpg"></a>
            <div class="logo-engx inline" href="#" title="EngX" title="Home page"><img id="logo" src="img/engx_logo.jpg"><span class="logo-title text-uppercase">EngX&nbsp;&nbsp;&nbsp;&nbsp;I can code</span></div>
          </div>
          <h1 class="nav col-md-6 col-xs-12 text-right rules-title">
            <div class="dropdown navbar-right" id="nav">
              <div class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><span class="rules dr">iCanCode</span> Rules<span class="caret"></span></div>
               <ul class="dropdown-menu">
                <li class="text-right"><a href="#overview">Game overview</a></li>
                <li class="text-right"><a href="#core">Core robot methods</a></li>
                <li class="text-right"><a href="#scanner">Core scanner methods</a></li>
              </ul>
            </div>
          </h1>
		</header>
      </div>
      </div>
      
       <section class="section rules-section">
        <div class="container">
          <h1 class="title text-uppercase">What you should know about the game?</h1>
          <a id="overview"></a>
          <h2 class="subtitle text-uppercase">game overview</h2>

            <p>Robot asks for new orders every second. He should know where to go.
Help him to collect gold and bring it to finish point - write program and win the contest.
Send program to Robot by clicking the <button class="button commit">Commit</button> button.
If something is wrong - check Robot message in the Console.
You can always stop the program by clicking the <button class="button reset">Reset</button> button.</p>
          <p>The code looks like the below and will be executed each step (every second):</p>
              <pre>
function program(robot) {
    robot.go("LEFT");
    robot.jump("RIGHT");
    robot.pull("UP");
} </pre>
          
          <p>Board can contain the following objects:</p>
          <ul class="list">
            <li><span class="list-values text-uppercase">start</span></li>
            <li><span class="list-values text-uppercase"><span>exit</span></li>
            <li><span class="list-values text-uppercase"><span>wall</span></li>
            <li><span class="list-values text-uppercase">box</span></li>
            <li><span class="list-values text-uppercase">gold</span></li>
            <li><span class="list-values text-uppercase">my_robot</span></li>
            <li><span class="list-values text-uppercase">other_robot</span></li>
            <li><span class="list-values text-uppercase">laser_machine</span></li>
            <li><span class="list-values text-uppercase">laser_machine_ready</span></li>
            <li><span class="list-values text-uppercase">laser_left</span></li>
              <li><span class="list-values text-uppercase">laser_right</span></li>
              <li><span class="list-values text-uppercase">laser_up</span></li>
              <li><span class="list-values text-uppercase">laser_down</span></li>
          </ul>
          <p>Robot can detect walls and other obstacles with Scanner.</p>
          <p>To use scanner is necessary to execute the following code:</p>
          <pre>
function program(robot) {
    var scanner = robot.getScanner();
    if (scanner.at("RIGHT")!= "WALL") {
        robot.go("RIGHT");
    };
}</pre>
        <p>Robot can walk, jump over holes and lasers and pull boxes with the following code:</p>
          
          <pre>
function program(robot) {
    robot.go("LEFT");
    robot.jump("RIGHT");
    robot.pull("UP");
}
</pre>
          <p>You can use this method to detect Elements throughout the world:</p>
          
          <pre>
var scanner = robot.getScanner();
var point = new Point(4, 8);
if (scanner.at(point) == "HOLE") {
    // some statement here
}
</pre>
          <p>Coordinate {x:0, y:0} in the left-top corner of board.
Try this code for check Robot position.</p>
          
          <pre>
robot.log(scanner.getMe());</pre>
          
          <p>To show data in console use the following code:</p>
          
          <pre>
var someVariable = "someData";
robot.log(someVariable);</pre>
          
<!-- -----------------------------------------CORE ROBOT METHODS--------------------------------------------------- -->
          <a id="core"></a>
          <h2 class="subtitle text-uppercase">Core Robot methods</h2>
          
          <p><span class="func">log :</span> function(message)  - Logs message to console</p>
          <pre>var message = 'some message';
robot.log(message);</pre>
          
          <p><span class="func">invert :</span> function(direction) Returns inverted direction. Inverts UP to DOWN, RIGHT to LEFT, etc.</p>
          <pre>robot.invert("UP") == "DOWN";
robot.invert("LEFT") == "RIGHT";</pre>
          
          <p><span class="func">cameFrom :</span> function() Gets direction robot came from</p>
          <pre>robot.go("UP");
// next tick
robot.cameFrom() == "DOWN";</pre>
          
          <p><span class="func">previousDirection :</span> function() Gets direction robot goes to</p>
          <pre>robot.go("UP");
// next tick
robot.previousDirection() == "UP";</pre>
          
          <p><span class="func">go :</span> function(direction) Go to the direction specified. There are 4 corresponding functions for each direction: goLeft, goRight, goUp, goDown.</p>
          <pre>function program(robot) {
    robot.go("LEFT");
    // robot will go up
    // the same about jump and pull 
    // robot.jump("RIGHT");
    // robot.pull("UP");
}</pre>
          <p><span class="func">jump :</span> function(direction) Jumps to direction specified. Jumps over a barrier in direction specified. It takes 2 ticks. After that robot moves on 2 cells on the direction.  It is impossible to jump over multiple  barriers in the row. There are 4 corresponding functions for each direction: jumpLeft, jumpRight, jumpUp, jumpDown.</p>
          <pre>robot.jump("RIGHT");</pre>
          
          <p><span class="func">pull :</span> function(direction) Pulls/pushes the box to the direction. It is possible to move the box only forward or backward, “side pulling” is not allowed.  There are 4 corresponding functions for each direction: pullLeft, pullRight, pullUp, pullDown.</p>
          <pre>robot.pull("UP");</pre>
          
          <p><span class="func">getMemory :</span> function() Object helps to store/transfer key/value data between moves/ticks, contains the following methods
            <span class="func">has :</span> function( key)  Check if data/value with key specified exist
  <span class="func">save :</span> function(key, value) Saves value with key specified.
  <span class="func">remove :</span> function( key) Removes data/value by key
  <span class="func">load :</span> function( key) Gets data/value by key
  <span class="func">clean :</span> function() Removes all the data</p>
          <pre>function program(robot) {
var memory = robot.getMemory();
memory.has("key") == false;
memory.save("key", "value");
memory.save("key2", "value2");
memory.load("key") == "value";
memory.has("key") == true;
memory.remove("key");
memory.has("key") == false;
memory.has("key2") == true;
memory.clean();
memory.has("key2") == false;}</pre>
          
<!-- -----------------------------------------------------Core Scanner methods--------------------------------------------- -->
          <a id="scanner"></a>
          <h2 class="subtitle text-uppercase">Core Scanner methods</h2>
          
          <p><span class="func">at : </span>function(direction)  Returns element at direction specified. There are 4 corresponding functions for each direction: atLeft, atRight, atUp, atDown.</p>
          <pre>scanner.at("UP") == "HOLE";</pre>
          
          <p><span class="func">atNearRobot : </span>function(dx, dy)  Returns element at the cell with coordinates</p>
          <pre>var scanner = robot.getScanner();
var xOffset = 1;
var yOffset = -2;
var element = "HOLE";
scanner.atNearRobot(xOffset, yOffset) == element;</pre>
          
          <p><span class="func">getMe : </span>function()  Returns position of your robot.</p>
          <pre>var point = scanner.getMe();
point.getX() == 7;
point.getY() == 5;</pre>
          
          <p><span class="func">getAt :</span> function(x, y)    Returns element at position specified.</p>
          <pre>scanner.getAt(12, 7) == ["START", "HERO"];</pre>
          
          <p><span class="func">findAll : </span> function(elementType) Returns all positions of element specified. What about fog of war?</p>
          <pre>var points = scanner.findAll("HOLE");
points == [new Point(5, 12), new Point(3, 7)]; 
points[0].getX() == 5;
points[0].getY() == 12;</pre>
          
          <p><span class="func">isAt : </span>function(x, y, elementType)     Checks if position contains element with type specified.</p>
          <pre>scanner.isAt(12, 7, "HOLE") == false;</pre>
          
          <p><span class="func">isAnyOfAt : </span>function(x, y, elementTypes) Checks if position contains any elements with types specified.</p>
          <pre>scanner.isAnyOfAt(12, 7, ["HOLE", "START", "HERO"]) == false;</pre>
          
          <p><span class="func">isNear: </span>function(x, y, elementTypes) Checks if cells around {x,y} position contains any elements with types specified</p>
          <pre>scanner.isNear(12, 7, ["HOLE", "START", "HERO"]) == true;
scanner.isNear(12, 7, "HERO") == true;
// near means: atLeft || atRight || atUp || atDown</pre>
          
          <p><span class="func">isBarrierAt : </span>function(x, y) – Is it possible to go through the cell with {x,y} coordinates.</p>
          <pre>scanner.isBarrierAt(12, 7) == false;</pre>
          
          <p><span class="func">countNear : </span>function(x, y, elementType)  Returns count of elements with type specified around {x,y} point.</p>
          <pre>scanner.countNear(12, 7, "HOLE") == 0;
scanner.countNear(12, 7, "BOX") == 3;</pre>
          
          <p><span class="func">isMyRobotAlive : </span>function() – Checks if your robot is alive</p>
          <pre>scanner.isMyRobotAlive() = true; </pre>
          
          <p><span class="func">getElements : </span>function() Returns list of element types.</p>
          <pre>scanner.getElements() = ['NONE', 'WALL', 'MY_ROBOT', 'OTHER_ROBOT', 
        'LASER_MACHINE', 'LASER_MACHINE_READY', 
        'LASER_LEFT', 'LASER_RIGHT', 'LASER_UP', 'LASER_DOWN',
        'START', 'EXIT', 'GOLD', 'HOLE', 'BOX']; </pre>
          
          <p><span class="func">getOtherRobots : </span> function()  Returns list of coordinates for all visible enemy Robots. There are corresponding functions for each type of elements: getLaserMachines, getLasers, getWalls,  getBoxes,  getGold,  getStart,  getExit, getHoles</p>
          
          <pre>var points = scanner.getOtherRobots();
points == [new Point(5, 12), new Point(3, 7)]; 
points[0].getX() == 5;
points[0].getY() == 12;</pre>
          
          <p><span class="func">getShortestWay: </span>function(to) Return shortest path (list of coordinates) from your robot location to coordinates specified.</p>
          <pre>var destination = new Point(2, 4);
var nextStep = scanner.getShortestWay(destination);
nextStep[0].getX() = 3;
nextStep[0].getY() = 4;</pre>
          
        </div>
      </section>
      
      <footer class="footer">
        <div class="container">
          <nav class="footer-nav">
            <ul class="footer-list inline">
              <li class="footer-item inline"><a target="_blank" href="http://epa.ms/ENGX">http://epa.ms/ENGX</a></li>
              <li class="footer-item inline"><a target="_blank" href="http://epa.ms/DOJO">http://epa.ms/DOJO</a></li>
              <li class="footer-item inline"><a target="_blank" href="http://epa.ms/ENGXYAMMER">http://epa.ms/ENGXYAMMER</a></li>
            </ul>
      </nav>
        </div>
      </footer>
    </div>
    <div class="scroll-up" id="scrollup"><i class="fa fa-angle-up"></i></div>
  </body>
</html>